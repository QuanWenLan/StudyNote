###  DelayQueue原理探究

**DelayQueue并发队列是一个无界阻塞延迟队列**，**队列中的每个元素都有个过期时间，当从队列获取元素时，只有过期元素才会出队列**。**队列头元素是最快要过期的元素**。

#### 1 类图结构 

由该图可知，DelayQueue内部使用PriorityQueue存放数据，使用ReentrantLock实现线程同步。另外，队列里面的元素要实现Delayed接口，由于每个元素都有一个过期时间，所以要实现获知当前元素还剩下多少时间就过期了的接口，由于内部使用优先级队列来实现，所以要实现元素之间相互比较的接口。

![image-20211105162454530](media/images/image-20211105162454530.png)

条件变量 available 与 lock 锁对应的，其目的是为了实现线程间同步。

